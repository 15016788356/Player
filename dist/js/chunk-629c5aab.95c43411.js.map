{"version":3,"sources":["webpack:///./src/views/comment/comment.vue?9b6c","webpack:///src/views/comment/comment.vue","webpack:///./src/views/comment/comment.vue?9c64","webpack:///./src/views/comment/comment.vue","webpack:///./src/views/comment/comment.vue?fd59"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","ops","_v","_l","item","index","key","user","avatarUrl","_s","nickname","content","_f","time","likedCount","total","commentId","beReplied","userId","_e","staticRenderFns","component"],"mappings":"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","file":"js/chunk-629c5aab.95c43411.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comment\"},[_c('vue-scroll',{attrs:{\"ops\":_vm.ops}},[_c('div',{staticClass:\"comment-list\"},[_c('div',{staticClass:\"comment-title\"},[_vm._v(\"精彩评论\")]),_c('ul',_vm._l((_vm.hotComments),function(item,index){return _c('li',{key:index,staticClass:\"comment-item\"},[_c('a',{attrs:{\"href\":(\"http://music.163.com/#/user/home?id=\" + (item.user.userId))}},[_c('img',{staticClass:\"comment-item-pic\",attrs:{\"src\":item.user.avatarUrl,\"alt\":\"\"}}),_c('h2',{staticClass:\"comment-item-title\"},[_vm._v(_vm._s(item.user.nickname))])]),_c('p',{staticClass:\"comment-item-disc\"},[_vm._v(_vm._s(item.content))]),_c('div',{staticClass:\"comment-item-opt\"},[_c('span',{staticClass:\"comment-item-date\"},[_vm._v(_vm._s(_vm._f(\"format\")(item.time)))]),_c('span',{staticClass:\"comment-opt-liked\"},[_c('Icon',{attrs:{\"type\":\"good\"}}),_vm._v(\" \"+_vm._s(item.likedCount)+\" \")],1)])])}),0),_c('div',{staticClass:\"comment-title\"},[_vm._v(\"最新评论 (\"+_vm._s(_vm.total)+\")\")]),_c('ul',_vm._l((_vm.commentList),function(item){return _c('li',{key:item.commentId,staticClass:\"comment-item\"},[_c('a',{staticClass:\"comment-item-pic\",attrs:{\"target\":\"_blank\",\"href\":(\"http://music.163.com/#/user/home?id=\" + (item.user.userId))}},[_c('img',{staticClass:\"cover-img\",attrs:{\"src\":((item.user.avatarUrl) + \"?param=50y50\")}})]),_c('h2',{staticClass:\"comment-item-title\"},[_c('a',{attrs:{\"target\":\"_blank\",\"href\":(\"http://music.163.com/#/user/home?id=\" + (item.user.userId))}},[_vm._v(_vm._s(item.user.nickname))])]),_c('p',{staticClass:\"comment-item-disc\"},[_vm._v(_vm._s(item.content))]),_vm._l((item.beReplied),function(beReplied){return _c('div',{key:beReplied.user.userId,staticClass:\"comment-item-replied\"},[_c('a',{attrs:{\"target\":\"_blank\",\"href\":(\"http://music.163.com/#/user/home?id=\" + (beReplied.user.userId))}},[_vm._v(_vm._s(beReplied.user.nickname))]),_vm._v(\" ：\"+_vm._s(beReplied.content)+\" \")])}),_c('div',{staticClass:\"comment-item-opt\"},[_c('span',{staticClass:\"comment-item-date\"},[_vm._v(_vm._s(_vm._f(\"format\")(item.time)))]),(item.likedCount>0)?_c('span',{staticClass:\"comment-opt-liked\"},[_c('Icon',{attrs:{\"type\":\"good\"}}),_vm._v(\" \"+_vm._s(item.likedCount)+\" \")],1):_vm._e()])],2)}),0)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"comment\">\r\n        <vue-scroll :ops=\"ops\">\r\n            <div class=\"comment-list\">\r\n                <div class=\"comment-title\">精彩评论</div>\r\n                <ul>\r\n                    <li class=\"comment-item\" v-for=\"(item, index) in hotComments\" :key=\"index\">\r\n                        <a :href=\"`http://music.163.com/#/user/home?id=${item.user.userId}`\">\r\n                            <img :src=\"item.user.avatarUrl\" alt=\"\" class=\"comment-item-pic\">\r\n                            <h2 class=\"comment-item-title\">{{item.user.nickname}}</h2>\r\n                        </a>\r\n                        <p class=\"comment-item-disc\">{{ item.content }}</p>\r\n                        <div class=\"comment-item-opt\">\r\n                            <span class=\"comment-item-date\">{{ item.time | format }}</span>\r\n                            <span class=\"comment-opt-liked\">\r\n                                <Icon type=\"good\"></Icon>\r\n                                {{ item.likedCount }}\r\n                            </span>\r\n                        </div>\r\n                    </li>\r\n                </ul>\r\n                <div class=\"comment-title\">最新评论 ({{total}})</div>\r\n                <ul>\r\n                    <li class=\"comment-item\" v-for=\"(item) in commentList\" :key=\"item.commentId\">\r\n                        <a\r\n                            class=\"comment-item-pic\"\r\n                            target=\"_blank\"\r\n                            :href=\"`http://music.163.com/#/user/home?id=${item.user.userId}`\"\r\n                        >\r\n                            <img :src=\"`${item.user.avatarUrl}?param=50y50`\" class=\"cover-img\" />\r\n                        </a>\r\n                            <h2 class=\"comment-item-title\">\r\n                            <a\r\n                                target=\"_blank\"\r\n                                :href=\"`http://music.163.com/#/user/home?id=${item.user.userId}`\"\r\n                            >{{ item.user.nickname }}</a>\r\n                            </h2>\r\n                            <p class=\"comment-item-disc\">{{ item.content }}</p>\r\n                            <div\r\n                            v-for=\"beReplied in item.beReplied\"\r\n                            :key=\"beReplied.user.userId\"\r\n                            class=\"comment-item-replied\"\r\n                            >\r\n                            <a\r\n                                target=\"_blank\"\r\n                                :href=\"`http://music.163.com/#/user/home?id=${beReplied.user.userId}`\"\r\n                            >{{ beReplied.user.nickname }}</a>\r\n                            ：{{ beReplied.content }}\r\n                            </div>\r\n                            <div class=\"comment-item-opt\">\r\n                            <span class=\"comment-item-date\">{{ item.time | format }}</span>\r\n                            <span v-if=\"item.likedCount>0\" class=\"comment-opt-liked\">\r\n                                <Icon type=\"good\"></Icon>\r\n                                {{ item.likedCount }}\r\n                            </span>\r\n                            </div>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </vue-scroll>\r\n    </div>\r\n</template>\r\n<script>\r\nimport api from '../../api/index.js';\r\nimport Icon from '../../base/icon/icon.vue';\r\nexport default {\r\n    components: {\r\n        Icon\r\n    },\r\n    data() {\r\n        return {\r\n            ops: {//滚动条配置\r\n                bar: {\r\n                    keepShow: true,\r\n                    background: 'rgb(168, 172, 171)',\r\n                    minSize: 0.1\r\n                },\r\n                rail: {\r\n                    opacity: 0.3,\r\n                    background: 'rgb(0, 0, 0)'\r\n                }\r\n            },\r\n            commentId: null,\r\n            page: 0,//分页\r\n            hotComments: [],//热门评论\r\n            commentList: [],//最新评论\r\n            total: null//总数\r\n        }\r\n    },\r\n    filters: {\r\n        format(time){\r\n            let formatTime;\r\n            var date = new Date(time);\r\n            var diff = new Date().getTime() - time;\r\n            var currentTime = new Date();\r\n            // console.log(diff);\r\n            let dateObj = {\r\n                year: date.getFullYear(),//年\r\n                month: date.getMonth() + 1,//月\r\n                date: date.getDate(),//日\r\n                hours: date.getHours(),//时\r\n                minutes: date.getMinutes(),//分\r\n            }\r\n            if (currentTime.getDate() === dateObj.date && diff < 60000) { //评论时间距离现在小于一分钟\r\n                formatTime = '刚刚'\r\n            }else if (currentTime.getDate() === date.getDate() && diff > 60000 && diff < 3600000 ) {//评论时间在1分钟以上， 60分钟以下 \r\n                formatTime = `${Math.floor(diff / 60000)}分钟前`;\r\n            }else if (currentTime.getDate() === dateObj.date && diff < 86400000 && diff > 3600000){//评论时间在一天以内\r\n                formatTime = `${dateObj.hours}: ${dateObj.minutes}`;\r\n            } else if (currentTime.getDate() !== dateObj.date && diff < 86400000) {\r\n                formatTime = `昨天${addZero(dateObj.hours)}:${addZero(dateObj.minutes)}`\r\n            } else if (currentTime.getFullYear() === dateObj.year) {//评论时间的年份和当前的年份相等\r\n                formatTime = `${dateObj.month + 1}月${dateObj.date}日`\r\n            } else {\r\n                formatTime = `${dateObj.year}年${dateObj.month + 1}月${dateObj.date}日`\r\n            }\r\n            return formatTime;\r\n        }\r\n    },\r\n    mounted() {\r\n        api.getMusicComment(this.$route.params.id, this.page).then(res => {\r\n            // console.log(res);\r\n            if (res.status == 200) {\r\n                this.hotComments = res.data.hotComments;\r\n                this.commentList = res.data.comments;\r\n                this.total = res.data.total;\r\n            }\r\n        }, err => {\r\n            console.log(err);\r\n        })\r\n    },\r\n    methods: {\r\n        \r\n    }\r\n}\r\n</script>\r\n<style lang=\"less\">\r\n    .comment{\r\n        .comment-list{\r\n            padding: 0 10px;\r\n            .comment-title{\r\n                height: 34px;\r\n                line-height: 34px;\r\n                padding: 10px 0;\r\n                color: #fff;\r\n                border-bottom: 1px solid hsla(0,0%,100%,.8);\r\n                \r\n            }\r\n            ul {\r\n                    .comment-item{\r\n                        position: relative;\r\n                        padding: 15px 0 15px 55px;\r\n                        border-bottom: 1px solid hsla(0,0%,100%,.1);\r\n                        .comment-item-pic{\r\n                            position: absolute;\r\n                            left: 0;\r\n                            top: 20px;\r\n                            width: 38px;\r\n                            height: 38px;\r\n                            border-radius: 50%;\r\n                            overflow: hidden;\r\n                        }\r\n                        a {\r\n                            color: #fff;\r\n                        }\r\n                        p {\r\n                            overflow: hidden;\r\n                            word-break: break-all;\r\n                            word-wrap: break-word;\r\n                            line-height: 25px;\r\n                            text-align: justify;\r\n                            color: hsla(0,0%,100%,.6);\r\n                        }\r\n\r\n                        .comment-item-opt{\r\n                            margin-top: 10px;\r\n                            line-height: 25px;\r\n                            text-align: right;\r\n                            overflow: hidden;\r\n                            .comment-item-date{\r\n                                float: left;\r\n                                line-height: 28px;\r\n                            }\r\n                            .comment-opt-liked{\r\n                                display: inline-block;\r\n                                height: 20px;\r\n                                line-height: 20px;\r\n                            }\r\n                        }\r\n                        .comment-item-replied{\r\n                            padding: 8px 19px;\r\n                            margin-top: 10px;\r\n                            line-height: 20px;\r\n                            border: 1px solid hsla(0,0%,100%,.3);\r\n                        }\r\n                    }\r\n                }\r\n        }\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./comment.vue?vue&type=template&id=42ca9e1e&\"\nimport script from \"./comment.vue?vue&type=script&lang=js&\"\nexport * from \"./comment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./comment.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comment.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comment.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}