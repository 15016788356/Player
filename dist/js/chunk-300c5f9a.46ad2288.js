(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-300c5f9a"],{"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"1ef7":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search"},[s("div",{staticClass:"search-head"},[t._l(t.Artists.slice(0,5),(function(e,n){return s("span",{key:n,on:{click:function(s){return t.clickHot(e.first)}}},[t._v(" "+t._s(e.first)+" ")])})),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchValue,expression:"searchValue",modifiers:{trim:!0}}],staticClass:"search-input",attrs:{type:"text",placeholder:"音乐/歌手"},domProps:{value:t.searchValue},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onEnter(e)},input:function(e){e.target.composing||(t.searchValue=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})],2),s("MusicList",{attrs:{list:t.list,listType:2,Height:60,lockUp:t.lockUp,scrollTo:t.scrollTo},on:{select:t.selectItem,pullUpLoad:t.pullUpLoad}})],1)},i=[],c=(s("a4d3"),s("99af"),s("4de4"),s("4160"),s("e439"),s("dbb4"),s("b64b"),s("ac1f"),s("5319"),s("841c"),s("159b"),s("2909")),r=s("ade3"),a=s("2f62"),o=s("f704"),l=s("365c"),u=s("eb4d");function p(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function f(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?p(Object(s),!0).forEach((function(e){Object(r["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):p(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var d={components:{MusicList:o["a"]},data:function(){return{lockUp:!0,searchValue:"",list:[],page:0,Artists:[],scrollTo:!1}},watch:{},created:function(){var t=this;l["a"].searchHot().then((function(e){200===e.data.code&&(t.Artists=e.data.result.hots)}),(function(t){console.log("search"+t)}))},methods:f({onEnter:function(){var t=this;""!==this.searchValue.replace(/(^\s+)|(\s+$)/g,"")?(this.page=0,this.list.length>0&&(this.scrollTo=!0),l["a"].search(this.searchValue,this.page).then((function(e){200===e.data.code&&(t.list=Object(u["b"])(e.data.result.songs))}),(function(t){console.log("seach"+t)}))):console.log("搜索内容不能为空")},pullUpLoad:function(){var t=this;""!==this.searchValue.replace(/(^\s+)|(\s+$)/g,"")?(this.page+=1,l["a"].search(this.searchValue,this.page).then((function(e){if(200==e.status){if(!e.data.result.songs)return t.lockUp=!1,console.log("没有更多歌曲了"),null;t.list=[].concat(Object(c["a"])(t.list),Object(c["a"])(Object(u["b"])(e.data.result.songs)))}}),(function(t){console.log("seach"+t)}))):console.log("搜索内容不能为空")},selectItem:function(t){var e=this._getMusicDetail(t.id);t.image=e,this.selectAddPlay(t)},_getMusicDetail:function(t){return l["a"].getMusicDetail(t).then((function(t){if(200===t.data.code)return t.data.songs[0].al.picUrl}))},clickHot:function(t){this.searchValue=t,this.onEnter()}},Object(a["d"])({setPlaying:"SET_PLAYING"}),{},Object(a["b"])(["selectAddPlay"])),computed:f({},Object(a["c"])(["playing","currentMusic"]))},h=d,b=(s("b153"),s("2877")),g=Object(b["a"])(h,n,i,!1,null,null,null);e["default"]=g.exports},"741e":function(t,e,s){"use strict";var n=s("b5d9"),i=s.n(n);i.a},"841c":function(t,e,s){"use strict";var n=s("d784"),i=s("825a"),c=s("1d80"),r=s("129f"),a=s("14c3");n("search",1,(function(t,e,s){return[function(e){var s=c(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,s):new RegExp(e)[t](String(s))},function(t){var n=s(e,t,this);if(n.done)return n.value;var c=i(t),o=String(this),l=c.lastIndex;r(l,0)||(c.lastIndex=0);var u=a(c,o);return r(c.lastIndex,l)||(c.lastIndex=l),null===u?-1:u.index}]}))},b153:function(t,e,s){"use strict";var n=s("ce80"),i=s.n(n);i.a},b5d9:function(t,e,s){},ce80:function(t,e,s){},f704:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0!==t.list.length?s("div",{staticClass:"musicList"},[s("div",{staticClass:"list-item list-header"},[s("span",{staticClass:"list-name"},[t._v("歌曲")]),s("span",{staticClass:"list-singer"},[t._v("歌手")]),1===t.listType?s("span",{staticClass:"list-time"},[t._v("时长")]):s("span",{staticClass:"list-album"},[t._v("专辑")])]),s("vue-scroll",{ref:"vs",style:t.height(),attrs:{detectResize:"",ops:t.ops},on:{"handle-scroll":t.handleScroll}},[s("div",{staticClass:"list-content"},t._l(t.list,(function(e,n){return s("div",{key:n,staticClass:"list-item"},[s("span",{staticClass:"list-num"},[t._v(t._s(n+1))]),s("div",{staticClass:"list-name"},[s("span",[t._v(t._s(e.name))]),s("div",{staticClass:"list-menu"},[s("icon",{staticClass:"hover",attrs:{type:t.getPlayIconType(e),size:40},on:{click:function(s){return s.stopPropagation(),t.selectItem(e,n,s)}}})],1)]),s("span",{staticClass:"list-singer"},[t._v(" "+t._s(e.singer)+" ")]),1===t.listType?s("span",{staticClass:"list-time"},[s("span",{ref:"time",refInFor:!0},[t._v(t._s(t.time(e.duration)))]),s("i",{staticClass:"iconfont icon-delete-mini hover",on:{click:function(e){return t.delectItem(n)}}})]):s("span",{staticClass:"list-album"},[t._v(" "+t._s(e.album)+" ")])])})),0)])],1):t._e()},i=[],c=(s("a4d3"),s("4de4"),s("4160"),s("a9e3"),s("e439"),s("dbb4"),s("b64b"),s("e25e"),s("159b"),s("ade3")),r=s("2f62");function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function o(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){Object(c["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var l={data:function(){return{ops:{bar:{keepShow:!0,background:"rgb(168, 172, 171)",minSize:.1,disable:!1},rail:{opacity:.3,background:"rgb(0, 0, 0)"}}}},computed:o({},Object(r["c"])(["playing","currentMusic"])),props:{isShow:{type:Boolean,default:!1},list:{type:Array,default:function(){return[]}},lockUp:{type:Boolean,default:!1},listType:{type:Number,default:1},Height:{type:Number,default:0},scrollTo:{type:Boolean,default:!1}},watch:{list:function(t){t&&(this.ops.bar.keepShow=!0)},lockUp:function(t){t||(this.ops.bar.keepShow=!0)},scrollTo:function(t){t&&this.$refs["vs"].scrollTo({y:0})}},methods:o({handleScroll:function(t,e,s){this.lockUp&&t.process>.95&&(this.ops.bar.keepShow=!1,this.$emit("pullUpLoad"),console.log(t.scrollTop))},height:function(){return"height: calc(100% - 50px - ".concat(this.Height,"px)")},time:function(t){var e=parseInt(t/60),s=parseInt(t-60*e);e=e<10?"0"+e:e+"",s=s<10?"0"+s:s+"";var n=e+":"+s;return n},selectItem:function(t,e,s){this.currentMusic.id&&t.id===this.currentMusic.id?this.setPlaying(!this.playing):this.$emit("select",t,e)},delectItem:function(t){this.$emit("del",t)},getPlayIconType:function(t){var e=t.id,s=this.playing,n=this.currentMusic.id;return s&&n===e?"pause-mini":"play-mini"}},Object(r["d"])({setPlaying:"SET_PLAYING"})),mounted:function(){}},u=l,p=(s("741e"),s("2877")),f=Object(p["a"])(u,n,i,!1,null,"e3c5f194",null);e["a"]=f.exports}}]);
//# sourceMappingURL=chunk-300c5f9a.46ad2288.js.map